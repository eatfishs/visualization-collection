"use strict";(self.webpackChunkvisualization_collection=self.webpackChunkvisualization_collection||[]).push([[3877],{33877:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Ne});var s=i(96540),l=i(46935),n=i(40961);const a="LineCombination_container__XmSfw",c="LineCombination_blackBox__lg4+F",r="LineCombination_blackBoxPoint__-Q8H9",o="LineCombination_whiteBox__U7pSJ",d="LineCombination_whiteBoxPoint__xfxaF",m="LineCombination_name__qUTSi",h="LineCombination_value__LHvzk";var u=i(74848);let p=0,x=0;const g=()=>{const e=(0,s.useRef)(null),t=()=>{if(e.current){const a=n.findDOMNode(e.current);if(a){const{length:e}=a.children,n=a.children[x],c=null==n?void 0:n.children[0],{clientWidth:r,clientHeight:o}=n,{style:d}=c;if(x%2==0){let t=8;d.left&&(t=parseFloat(d.left));let l=t+4;if(l>=r-8-8)if(c.style.visibility="hidden",x>=e-1){var i;x=0;const e=null===(i=a.children[x])||void 0===i?void 0:i.firstChild;e.style.left="".concat(8,"px"),e.style.visibility="visible"}else{var s;x+=1;const e=null===(s=a.children[x])||void 0===s?void 0:s.firstChild;e.style.left="-1px",e.style.visibility="visible"}else c.style.left="".concat(l,"px"),"visible"!==c.style.visibility&&(c.style.visibility="visible")}else{let e=-1,t=8;if(d.left&&(e=parseFloat(d.left)),d.bottom&&(t=parseFloat(d.bottom)),e>=r){let e=t-4;if(e<=8){var l;c.style.visibility="hidden",x+=1;const e=null===(l=a.children[x])||void 0===l?void 0:l.firstChild;e.style.left="".concat(8,"px"),e.style.visibility="visible"}else c.style.bottom="".concat(e,"px")}else if(e<=-1){let e=t+4;e>o-8-8&&(e=o,c.style.width="".concat(8,"px"),c.style.height="1px",c.style.left="".concat(8,"px")),c.style.bottom="".concat(e,"px")}else{let t=e+4;t>r-8-8&&(t=r,c.style.width="1px",c.style.height="".concat(8,"px"),c.style.bottom="".concat(o-8-8)),c.style.left="".concat(t,"px")}}p=requestAnimationFrame(t)}}};return(0,s.useEffect)((()=>(e.current&&(p=requestAnimationFrame(t)),()=>{p&&cancelAnimationFrame(p)})),[]),(0,u.jsxs)("div",{className:a,ref:e,children:[(0,u.jsx)("div",{className:c,children:(0,u.jsx)("div",{className:r})}),(0,u.jsxs)("div",{className:o,children:[(0,u.jsx)("div",{className:d}),(0,u.jsx)("p",{className:m,children:"Price"}),(0,u.jsx)("p",{className:h,children:"$656"})]}),(0,u.jsx)("div",{className:c,children:(0,u.jsx)("div",{className:r})}),(0,u.jsxs)("div",{className:o,children:[(0,u.jsx)("div",{className:d}),(0,u.jsx)("p",{className:m,children:"Quantity"}),(0,u.jsx)("p",{className:h,children:"84351"})]}),(0,u.jsx)("div",{className:c,children:(0,u.jsx)("div",{className:r})}),(0,u.jsxs)("div",{className:o,children:[(0,u.jsx)("div",{className:d}),(0,u.jsx)("p",{className:m,children:"Number of partners"}),(0,u.jsx)("p",{className:h,children:"64"})]}),(0,u.jsx)("div",{className:c,children:(0,u.jsx)("div",{className:r})}),(0,u.jsxs)("div",{className:o,children:[(0,u.jsx)("div",{className:d}),(0,u.jsx)("p",{className:m,children:"Date of establishment"}),(0,u.jsx)("p",{className:h,children:"2008-10-01"})]}),(0,u.jsx)("div",{className:c,children:(0,u.jsx)("div",{className:r})}),(0,u.jsxs)("div",{className:o,children:[(0,u.jsx)("div",{className:d}),(0,u.jsx)("p",{className:m,children:"Transaction Analyzed"}),(0,u.jsx)("p",{className:h,children:"70Bn"})]}),(0,u.jsx)("div",{className:c,children:(0,u.jsx)("div",{className:r})})]})};var f=i(47523),y=i(36802),v=i(89740),j=i(13545),_=i(6754),w=i(68777),N=i(95147),b=i(42953),A=i(89027),F=i(52629),C=i(50329),k=i(68e3),I=i(14103),T=i(83853),S=i(29248),V=i(90911),B=i(17836),D=i(68388),z=i(59445),L=i(47826),H=i(78854),E=i(92446),M=i(70653),O=i(75965),P=i(49527);const U=e=>{const t=document.getElementById("attach_image");if(t){const i=t.height/t.width;0===e?(t.style.width="".concat(t.clientWidth-50,"px"),t.style.height="".concat(t.clientHeight-50*i,"px")):(t.style.width="".concat(t.clientWidth+50,"px"),t.style.height="".concat(t.clientHeight+50*i,"px"))}},R=()=>{const e=document.getElementById("attach_image");if(e){let t=!1,i=null,s=null;e.onmousewheel=e=>{e.stopPropagation(),e.preventDefault();const t=e.wheelDelta||e.detail;U(t>0?1:0)},e.onmousedown=e=>{e.stopPropagation(),e.preventDefault(),t=!0,i=e.clientX,s=e.clientY},e.onmouseup=e=>{e.stopPropagation(),e.preventDefault(),t=!1},e.onmousemove=l=>{if(l.stopPropagation(),l.preventDefault(),t){const t=l.clientX,n=l.clientY,a=t-i,c=n-s,r=document.getElementById("attach_imgDiv");if(r){let l=parseFloat(e.style.left)+a,o=parseFloat(e.style.top)+c;const d=-.75*parseFloat(e.style.width),m=parseFloat(r.style.width)-.25*parseFloat(e.style.width),h=-.75*parseFloat(e.style.height),u=parseFloat(r.style.height)-.25*parseFloat(e.style.height);l<d?l=d:l>m&&(l=m),o<h?o=h:o>u&&(o=u),e.style.left="".concat(l,"px"),e.style.top="".concat(o,"px"),i=t,s=n}}}}},q="FileView_container__A6yjD",W="FileView_tableLy__V9JuF",X="FileView_viewContainer__nXqhI",J="FileView_progress__a04Bb",Q="FileView_imgDiv__4EdNv",G="FileView_downLoadTip__BBeMX",Y="FileView_emptyTip__PgXIx",K="FileView_arrowIcon__BMxbv",Z="FileView_leftArrow__mzKIj",$="FileView_rightArrow__NhQ4A",ee="FileView_imgInfo__u6Zbt",te="FileView_imgOperate__WUASI",ie="FileView_iconDiv__21mMV",se="FileView_left__yXeGc",le="FileView_xiangXia__Jmqs8",ne="FileView_xiangShang__qsuv2",ae="FileView_fileContainer__G2QyJ",ce="FileView_draggerBox__G63Fc",re="FileView_draggerTextBoxHover__JJUud",oe="FileView_draggerTextBox__elmJ8",de="FileView_firstLine__ocYIa",me="FileView_linkBtn__5xC6T",he="FileView_secondLine__q5VBy",ue="FileView_moreOperate__Ne4CF",pe="FileView_poperSpan__ffqVc",{Option:xe}=f.A,{Dragger:ge}=y.A,fe={isProgress:!1,percent:0,progressTimer:null},ye={imgSrc:"",imgScale:0,userName:"",fileName:"",updateTime:"",imgOrigin:{width:0,height:0},imgRotate:0},ve=e=>{const{id:t,disabled:i=!1,style:l={}}=e,[n,a]=(0,s.useState)(fe),c=(0,s.useRef)(fe),[r,o]=(0,s.useState)(!1),[d,m]=(0,s.useState)((0,O.A)(ye)),h=(0,s.useRef)((0,O.A)(ye)),[p,x]=(0,s.useState)(!1),[g,y]=(0,s.useState)([]),U=(0,s.useRef)([]),[ve,je]=(0,s.useState)(null),_e=(0,s.useRef)(null),we=(0,s.useRef)(null),Ne=e=>{we.current=_e.current,_e.current=e,je(e);let t=(0,O.A)(ye);if(e){const i=document.getElementById("attach_image");i&&(i.style.webkitTransform="rotate(0deg)",i.style.top="0px",i.style.left="0px",i.style.width="unset",i.style.height="unset",i.removeAttribute("width"),i.removeAttribute("height"));const s=e.value.split("?fileId");t=s.length>1?{...t,imgSrc:"data:image/jpg;base64,".concat(s[1])}:{...t,imgSrc:"data:image/jpg;base64,".concat(e.value)}}h.current=t,m(t)},be=e=>{if(e){const t=e.substring(e.lastIndexOf(".")+1);if(t)return t.toLowerCase()}return""};(0,s.useEffect)((()=>{c.current=fe,a(fe),x(!1),o(!1),U.current=[],y([]),Ne(null),t&&(async e=>{})()}),[t]),(0,s.useEffect)((()=>{!we.current&&ve&&R()}),[ve]);const Ae=e=>{const t=document.getElementsByClassName("ant-upload-drag");t&&t.length>0&&t[0].classList.remove(re)},Fe=e=>{let t="";return t="left"===e?U.current[0].fileId:U.current[U.current.length-1].fileId,_e.current&&t===_e.current.fileId?"#d8d8d8":"#666666"},Ce=e=>{const t=document.getElementById("attach_image");switch(e){case 0:t&&h.current&&(t.style.width="700px",t.style.height="".concat(700*h.current.imgScale,"px"),t.style.top="0px",t.style.left="0px");break;case 1:t&&h.current&&(t.style.width="".concat(t.clientWidth+50,"px"),t.style.height="".concat(t.clientHeight+50*h.current.imgScale,"px"));break;case 2:t&&h.current&&(t.style.width="".concat(t.clientWidth-50,"px"),t.style.height="".concat(t.clientHeight-50*h.current.imgScale,"px"));break;case 3:t&&h.current&&(t.style.width="".concat(h.current.imgOrigin.width,"px"),t.style.height="".concat(h.current.imgOrigin.height,"px"),t.style.top="0px",t.style.left="0px");break;case 4:if(t&&h.current){const e={...h.current,imgRotate:h.current.imgRotate+1};h.current=e,m(e),t.style.webkitTransform="rotate(".concat(-90*h.current.imgRotate,"deg)")}break;case 5:(async e=>{let t=e||ve;t?i?v.Ay.warning("目前状态不允许删除"):j.A.confirm({title:"删除文件提示",content:"确认删除【".concat(t.fileName,"】文件？"),icon:(0,u.jsx)(F.A,{}),centered:!0,onOk:async()=>{v.Ay.warning("删除中..."),setTimeout((()=>{const e={code:200,data:{},msg:""};if(e&&200===e.code){v.Ay.success("删除文件成功");const e=U.current.filter((e=>e.fileId!==t.fileId));U.current=e,y(e),we.current=_e.current,e.length>0?Ne(e[0]):Ne(null)}else v.Ay.error(e.msg)}),2e3)}}):v.Ay.warning("无文件可进行删除")})();break;case 6:(async()=>{ve&&(v.Ay.warning("下载中..."),setTimeout((()=>{v.Ay.success("下载成功")}),2e3))})();break;case 7:for(let e=0,t=U.current.length;e<t;e++){var s;if(U.current[e].fileId===(null===(s=_e.current)||void 0===s?void 0:s.fileId)&&e<U.current.length-1){Ne(U.current[e+1]);break}}break;case 8:for(let e=0,t=U.current.length;e<t;e++){var l;if(U.current[e].fileId===(null===(l=_e.current)||void 0===l?void 0:l.fileId)&&e>0){Ne(U.current[e-1]);break}}}};return(0,u.jsx)("div",{className:q,style:l,children:(0,u.jsx)("div",{className:W,children:(0,u.jsxs)("div",{style:{width:"860px"},children:[(0,u.jsx)("div",{style:{width:"100%",height:"87vh",minHeight:"700px",backgroundImage:"linear-gradient(135deg, #224141, #162a2a)"},children:(0,u.jsxs)("div",{className:X,children:[n.isProgress&&(0,u.jsxs)("div",{className:J,children:[(0,u.jsx)(_.A,{style:{width:"400px"},percent:n.percent,showInfo:!1}),(0,u.jsxs)("span",{style:{marginTop:"16px"},children:["上传中，请稍候...",n.percent>100?100:n.percent,"%"]})]}),(0,u.jsxs)("div",{id:"attach_imgDiv",className:Q,children:[ve&&(0,u.jsxs)("div",{children:[["jpg","jpeg","png","gif"].includes((null==ve?void 0:ve.fileType)||"")&&(0,u.jsx)("img",{id:"attach_image",src:null==d?void 0:d.imgSrc,style:{position:"absolute",top:0,left:0},onLoad:()=>{const e=document.getElementById("attach_image");if(e){const t={...h.current,imgScale:e.clientHeight/e.clientWidth,imgOrigin:{width:e.clientWidth,height:e.clientHeight}};h.current=t,m(t),e.style.width="700px",e.style.height="".concat(700*t.imgScale,"px")}},alt:""}),["pdf","doc","cocx","xls","xlsx","rar","zip","7z","wim","tar"].includes((null==ve?void 0:ve.fileType)||"")&&(0,u.jsxs)("div",{className:G,children:["如果想要浏览该文件，您可以",(0,u.jsx)(w.Ay,{type:"link",onClick:()=>Ce(6),children:"点击下载"})]})]}),!ve&&!n.isProgress&&(0,u.jsxs)("div",{className:Y,children:[(0,u.jsx)("div",{style:{width:"100%",color:"#333333"},children:"请上传文件"}),(0,u.jsxs)("div",{style:{width:"100%",color:"#ababab",marginTop:"10px",lineHeight:"20px"},children:["不超过30M,",(0,u.jsx)("br",{}),"支持jpg,jpeg,png,gif格式的文件"]})]}),ve&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"".concat(K," ").concat(Z),style:{backgroundColor:Fe("left")},onClick:()=>Ce(8),children:(0,u.jsx)(C.A,{})}),(0,u.jsx)("span",{className:"".concat(K," ").concat($),style:{backgroundColor:Fe("right")},onClick:()=>Ce(7),children:(0,u.jsx)(k.A,{})})]})]}),r&&(0,u.jsx)("div",{className:ee,children:(0,u.jsxs)(N.A,{children:[(0,u.jsx)(b.A,{span:24,children:(0,u.jsxs)("span",{style:{fontSize:"14px"},children:["文件名：",null==ve?void 0:ve.fileName]})}),(0,u.jsx)(b.A,{span:16,children:(0,u.jsxs)("span",{style:{fontSize:"14px"},children:["上传者：",null==ve?void 0:ve.userName]})}),(0,u.jsx)(b.A,{span:8,children:(0,u.jsxs)("span",{style:{fontSize:"14px"},children:["上传时间：",null==ve?void 0:ve.upTime]})})]})}),ve&&(0,u.jsxs)("div",{className:te,children:[(0,u.jsxs)("div",{className:se,children:[(0,u.jsx)(f.A,{placeholder:"请选择",style:{width:"300px"},size:"small",value:ve.fileId,loading:p,onChange:e=>{let t=null;for(let i=0,s=U.current.length;i<s;i++){const s=U.current[i];if(s.fileId===e){t=s;break}}Ne(t)},children:g.map(((e,t)=>(0,u.jsx)(xe,{value:e.fileId,children:"".concat(t+1,"/").concat(g.length,"：").concat(e.fileName)},e.fileId)))}),(0,u.jsx)("span",{onClick:()=>Ce(7),className:"".concat(ie," ").concat(le),children:(0,u.jsx)(I.A,{})}),(0,u.jsx)("span",{onClick:()=>Ce(8),className:"".concat(ie," ").concat(ne),children:(0,u.jsx)(T.A,{})})]}),(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,u.jsx)("span",{className:ie,onClick:()=>o(!r),children:(0,u.jsx)(S.A,{})}),(0,u.jsx)("span",{className:ie,onClick:()=>Ce(0),children:(0,u.jsx)(V.A,{})}),(0,u.jsx)("span",{className:ie,onClick:()=>Ce(3),children:(0,u.jsx)(B.A,{})}),(0,u.jsx)("span",{className:ie,onClick:()=>Ce(4),children:(0,u.jsx)(D.A,{})}),(0,u.jsx)("span",{className:ie,onClick:()=>Ce(1),children:(0,u.jsx)(z.A,{})}),(0,u.jsx)("span",{className:ie,onClick:()=>Ce(2),children:(0,u.jsx)(L.A,{})}),(0,u.jsx)(A.A,{style:{width:"80px"},content:(0,u.jsxs)("div",{className:ue,children:[(0,u.jsx)("span",{className:pe,onClick:()=>Ce(6),children:"下载文件"}),(0,u.jsx)("span",{className:pe,onClick:()=>Ce(5),children:"删除文件"})]}),children:(0,u.jsx)("span",{className:ie,children:(0,u.jsx)(H.A,{})})})]})]})]})}),(0,u.jsx)("div",{className:ae,children:(0,u.jsx)(ge,{className:ce,multiple:!0,showUploadList:!1,disabled:i,beforeUpload:e=>{if(i)return v.Ay.warning("目前状态不允许修改"),!1;const t=be(e.name);return["jpg","jpeg","png","gif","pdf","doc","cocx","xls","xlsx","rar","zip","7z","wim","tar"].includes(t)?e.size>31457280?(v.Ay.warning("单个文件大小不能超过30M"),!1):void 0:(v.Ay.warning("请上传符合格式要求的文件"),!1)},customRequest:()=>{},onDrop:e=>e.preventDefault(),onChange:async e=>{if(e.event&&e.event.preventDefault(),i)return;if(c.current.isProgress)return void v.Ay.warning("有文件正在上传，请稍侯");const t={...fe,isProgress:!0};t.progressTimer=window.setInterval((()=>{if(c.current.percent<90){const e={...c.current,percent:c.current.percent+Math.floor(20*Math.random())};c.current=e,a(e)}}),800),c.current=t,a(t);try{setTimeout((()=>{c.current.progressTimer&&window.clearInterval(c.current.progressTimer);const t={...fe};c.current=t,a(t);const i={code:200,data:{fileId:Number(Math.random().toString().substring(3,8)+Date.now()).toString(36),fileName:e.file.name,createTime:(new Date).getTime(),uploadUserName:"userName",uploadUser:"000001"},msg:""};i&&200===i.code?((e,t)=>{if(!e)return;const i=be(e.fileName);if(["jpg","jpeg","png","gif"].includes(i)){if(t){const s=new FileReader;s.readAsArrayBuffer(t),s.onload=s=>{var l;const n=window.btoa(new Uint8Array(null===(l=s.target)||void 0===l?void 0:l.result).reduce(((e,t)=>e+String.fromCharCode(t)),"")),a={...e};a.fileId=e.fileId,a.fileName=e.fileName,a.fileType=i,a.value=n,a.size=(0,P.ye)(t.size),a.upTime=(0,M.A)(e.createTime,"yyyy-MM-dd HH:mm:ss"),a.userNmae="".concat(e.uploadUserName,"/").concat(e.uploadUser);const c=[...U.current,a];U.current=c,y(c),Ne(a)}}}else{const s={...e};s.fileId=e.fileId,s.fileName=e.fileName,s.fileType=i,s.value="",s.size=(0,P.ye)(t.size),s.upTime=(0,M.A)(e.createTime,"yyyy-MM-dd HH:mm:ss"),s.userNmae="".concat(e.uploadUserName,"/").concat(e.uploadUser);const l=[...U.current,s];U.current=l,y(l),Ne(s)}})(i.data,e.file.originFileObj):v.Ay.error("上传".concat(e.file.name,"失败"))}),2e3)}catch(t){c.current.progressTimer&&window.clearInterval(c.current.progressTimer);const i={...fe};c.current=i,a(i),v.Ay.error("上传".concat(e.file.name,"失败"))}},children:(0,u.jsxs)("div",{className:oe,onDragOver:e=>{const t=document.getElementsByClassName("ant-upload-drag");t&&t.length>0&&t[0].classList.add(re)},onDragLeave:Ae,onDrop:Ae,children:[(0,u.jsxs)("div",{className:de,children:[(0,u.jsx)(E.A,{}),(0,u.jsx)("span",{children:"将文件拖拽到此处，或"}),(0,u.jsx)("span",{className:i?"":me,children:"点击上传"})]}),(0,u.jsx)("div",{className:he,children:"系统支持的格式为jpg,jpeg,png,gif,pdf,doc,docx,xls,xlsx,rar,zip,7z,wim,tar的文件"})]})})})]})})})},je="ComplexLayout_container__boCBV",_e="ComplexLayout_box__OfEFo",we=[{element:(0,u.jsx)(g,{})},{element:(0,u.jsx)(ve,{})}],Ne=()=>{const{setScrollTop:e}=(0,l.S)();return(0,s.useEffect)((()=>{e(0)}),[]),(0,u.jsx)("div",{className:je,children:we.map(((e,t)=>(0,u.jsx)("div",{className:_e,children:e.element},t)))})}}}]);