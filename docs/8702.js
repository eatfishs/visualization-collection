"use strict";(self.webpackChunkvisualization_collection=self.webpackChunkvisualization_collection||[]).push([[8702],{18702:(t,e,n)=>{n.r(e),n.d(e,{default:()=>m});var o=n(96540),r=n(39437),y=n(53912),s=n(17024),x=n(46935),z=n(9169),c=n(85880);const i=[{x:-1,y:1,z:1},{x:0,y:1,z:1},{x:1,y:1,z:1},{x:-1,y:0,z:1},{x:0,y:0,z:1},{x:1,y:0,z:1},{x:-1,y:-1,z:1},{x:0,y:-1,z:1},{x:1,y:-1,z:1},{x:-1,y:1,z:0},{x:0,y:1,z:0},{x:1,y:1,z:0},{x:-1,y:0,z:0},{x:0,y:0,z:0},{x:1,y:0,z:0},{x:-1,y:-1,z:0},{x:0,y:-1,z:0},{x:1,y:-1,z:0},{x:-1,y:1,z:-1},{x:0,y:1,z:-1},{x:1,y:1,z:-1},{x:-1,y:0,z:-1},{x:0,y:0,z:-1},{x:1,y:0,z:-1},{x:-1,y:-1,z:-1},{x:0,y:-1,z:-1},{x:1,y:-1,z:-1}],u={front:[{x:-1,y:1,z:1},{x:0,y:1,z:1},{x:1,y:1,z:1},{x:-1,y:0,z:1},{x:0,y:0,z:1},{x:1,y:0,z:1},{x:-1,y:-1,z:1},{x:0,y:-1,z:1},{x:1,y:-1,z:1}],back:[{x:1,y:1,z:-1},{x:0,y:1,z:-1},{x:-1,y:1,z:-1},{x:1,y:0,z:-1},{x:0,y:0,z:-1},{x:-1,y:0,z:-1},{x:1,y:-1,z:-1},{x:0,y:-1,z:-1},{x:-1,y:-1,z:-1}],top:[{x:-1,y:1,z:-1},{x:0,y:1,z:-1},{x:1,y:1,z:-1},{x:-1,y:1,z:0},{x:0,y:1,z:0},{x:1,y:1,z:0},{x:-1,y:1,z:1},{x:0,y:1,z:1},{x:1,y:1,z:1}],bottom:[{x:-1,y:-1,z:1},{x:0,y:-1,z:1},{x:1,y:-1,z:1},{x:-1,y:-1,z:0},{x:0,y:-1,z:0},{x:1,y:-1,z:0},{x:-1,y:-1,z:-1},{x:0,y:-1,z:-1},{x:1,y:-1,z:-1}],left:[{x:-1,y:1,z:-1},{x:-1,y:1,z:0},{x:-1,y:1,z:1},{x:-1,y:0,z:-1},{x:-1,y:0,z:0},{x:-1,y:0,z:1},{x:-1,y:-1,z:-1},{x:-1,y:-1,z:0},{x:-1,y:-1,z:1}],right:[{x:1,y:1,z:1},{x:1,y:1,z:0},{x:1,y:1,z:-1},{x:1,y:0,z:1},{x:1,y:0,z:0},{x:1,y:0,z:-1},{x:1,y:-1,z:1},{x:1,y:-1,z:0},{x:1,y:-1,z:-1}]},a="RubiksCube_container__RQj3S";var l=n(74848);const d=10,f=20,p=50,h=50,w=[{x:100,y:100,z:-100,intensity:1},{x:-100,y:100,z:-100,intensity:1},{x:100,y:-50,z:-100,intensity:1},{x:-100,y:-50,z:-100,intensity:1},{x:50,y:100,z:30,intensity:20},{x:-100,y:100,z:100,intensity:1},{x:100,y:-50,z:100,intensity:1},{x:-100,y:-50,z:100,intensity:1},{x:0,y:50,z:20,intensity:1},{x:0,y:-50,z:20,intensity:1}],m=()=>{const{menuWidth:t}=(0,x.S)(),e=(0,o.useRef)(null),n=(0,o.useRef)(null),m=(0,o.useRef)([]),k=(0,o.useRef)([]),b=(0,o.useRef)(null),v=(0,o.useRef)(null),R=(0,o.useRef)(null),g=(0,o.useRef)(0),C=()=>{const t=Math.floor(6*Math.random()),e=Object.keys(u)[t];E(e,Math.PI)},E=(t,e)=>{const n=u[t];if(!n||!e||!b.current)return;const o=[],y=[],s=[];for(let t=0,e=n.length;t<e;t++){const{x:e,y:r,z:x}=n[t];for(let z=0,c=k.current.length;z<c;z++){const c=k.current[z],{x:i,y:u,z:a}=c.position;if(i===10.4*e&&u===10.4*r&&a===10.4*x){o.push(c.clone()),y.push(c),s.push(n[t]);break}}}let x="";switch(t){case"front":case"back":x="z";break;case"top":case"bottom":x="y";break;case"left":case"right":x="x"}const z=y[4],i=new r.YJl;i.position.set(z.position.x,z.position.y,z.position.z),v.current=i,y.forEach((t=>{const e=t.clone(),{x:n,y:o,z:r}=e.position;e.position.set("x"===x?0:n,"y"===x?0:o,"z"===x?0:r),i.add(e)})),b.current.add(i),y.forEach((t=>{var e;null===(e=b.current)||void 0===e||e.remove(t),k.current=k.current.filter((e=>e.id!==t.id))}));const a={angle:0};R.current=c.os.to(a,{angle:e,duration:e/Math.PI*1.5,ease:"power1.inOut",onUpdate:()=>{if(x){const t=a.angle;if(v.current){const e=(new r.kn4)["makeRotation".concat(x.toUpperCase())](t),{x:n,y:o,z:y}=v.current.position;e.multiply((new r.kn4).makeTranslation(n,o,y)),v.current.matrix=e,v.current.matrix.decompose(v.current.position,v.current.quaternion,v.current.scale)}}},onComplete:()=>{v.current&&b.current&&(v.current.children.forEach((e=>{var n;const o=e.clone(),{x:r,y,z:s}=o.position;o.position.set("x"===x?"left"===t?-10.4:10.4:r,"y"===x?"bottom"===t?-10.4:10.4:y,"z"===x?"back"===t?-10.4:10.4:s),null===(n=b.current)||void 0===n||n.add(o),k.current.push(o)})),b.current.remove(v.current),g.current=window.setTimeout(C,1500))}})},{resize:S}=(0,z.A)(e,((t,o,x)=>{if(e.current){t.background=new r.Q1f("#121212"),o.position.set(f,p,h),o.lookAt(0,0,0),x.setClearColor("#121212"),w.forEach((e=>{const{x:n,y:o,z:y,intensity:s}=e,x=new r.ZyN(15463918,s);x.position.set(n,o,y),x.lookAt(0,0,0),x.shadow.camera.near=10,x.shadow.camera.far=500,x.castShadow=!0,m.current.push(x),t.add(x)}));const e=new s.N(o,x.domElement);n.current=e,e.autoRotate=!0,e.autoRotateSpeed=3}const z=new r.YJl;z.position.set(0,0,0),b.current=z;const c=new y.j(d,d,d,1,1.6),u=new r.uSd({color:65793,metalness:.4,roughness:.2,clearcoat:0,clearcoatRoughness:1,reflectivity:.2,specularIntensity:1.2});for(let t=0,e=i.length;t<e;t++){const{x:e,y:n,z:o}=i[t],y=new r.eaF(c,u);y.position.set(10.4*e,10.4*n,10.4*o),y.receiveShadow=!0,y.castShadow=!0,k.current.push(y),z.add(y)}t.add(z),g.current=window.setTimeout(C,1500)}),null,(()=>{var t;n.current&&(null===(t=n.current)||void 0===t||t.update())}));return(0,o.useLayoutEffect)((()=>{S()}),[t]),(0,o.useEffect)((()=>()=>{R.current&&R.current.kill(),g.current&&window.clearTimeout(g.current)}),[]),(0,l.jsx)("div",{className:a,ref:e})}}}]);