"use strict";(self.webpackChunkvisualization_collection=self.webpackChunkvisualization_collection||[]).push([[3666],{63666:(e,a,i)=>{i.r(a),i.d(a,{default:()=>C});var s=i(96540),t=i(6442),d=i(40961),n=i(75862),r=i(79045),c=i(46935);const l="Page1_container__mnmFo",o="Page1_content__dEKXx",p="Page1_top__CvVhP",m="Page1_title__e1hrH",g="Page1_author__3ANp3",h="Page1_appoint__UWC0Q",x="Page1_articleContent__FjtBL",v="Page1_subTitle__JjrOQ",j="Page1_codeBox__XdbZj",f="Page1_strong__+eGV6";var u=i(74848);const P=e=>{const a=(0,t.A)(),{showPageIndex:i}=e;return(0,u.jsx)("div",{className:l,children:(0,u.jsxs)("div",{className:o,children:[(0,u.jsxs)("div",{className:p,children:[(0,u.jsx)("div",{className:m,children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.title"})}),(0,u.jsx)("div",{className:g,children:"".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.author"}),": River")})]}),(0,u.jsxs)("div",{className:h,children:[(0,u.jsx)("div",{children:"".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.appoint"}),":")}),(0,u.jsx)("div",{children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.appointText1"})}),(0,u.jsx)("div",{children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.appointText2"})})]}),(0,u.jsxs)("div",{className:x,children:[(0,u.jsx)("div",{className:v,children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.subTitle1"})}),(0,u.jsx)("div",{children:"".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.des1"}),":")}),(0,u.jsxs)("div",{className:j,children:[(0,u.jsx)("div",{children:"// ".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.codeBox1.text"}))}),(0,u.jsx)("div",{children:'<a href="http://b.com?data=1" target="_blank" />'})]}),(0,u.jsxs)("div",{className:j,children:[(0,u.jsx)("div",{children:"// ".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.codeBox2.text"}))}),(0,u.jsx)("div",{children:"<script>"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:'var data = window.location.href.split("?")[1].split("=")[1];'}),(0,u.jsx)("div",{children:"<script>"})]}),(0,u.jsx)("div",{children:"".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.des2"}),":")}),(0,u.jsxs)("div",{className:j,children:[(0,u.jsx)("div",{children:"// ".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.pageA"}))}),(0,u.jsx)("div",{children:"<script>"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:'window.open("http://b.com?data=1", "_blank");'}),(0,u.jsx)("div",{children:"<script>"})]}),(0,u.jsx)("div",{className:f,children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.des3"})})]})]})})},N=e=>{const a=(0,t.A)(),{showPageIndex:i}=e;return(0,u.jsx)("div",{className:l,children:(0,u.jsx)("div",{className:o,children:(0,u.jsxs)("div",{className:x,children:[(0,u.jsx)("div",{className:v,children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.subTitle2"})}),(0,u.jsx)("div",{children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.des4"})}),(0,u.jsxs)("div",{className:j,children:[(0,u.jsx)("div",{children:"// ".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.pageA"}))}),(0,u.jsx)("div",{children:"<script>"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:'var popup = window.open("http://b.com", "_blank");'}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"if(popup){"}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"setTimeout(function(){"}),(0,u.jsx)("div",{style:{paddingLeft:"60px"},children:"var data = {data: 1};"}),(0,u.jsx)("div",{style:{paddingLeft:"60px"},children:'popup.postMessage(JSON.stringify(data), "http://b.com");'}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"},500);"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"}"}),(0,u.jsx)("div",{children:"<script>"})]}),(0,u.jsxs)("div",{className:j,children:[(0,u.jsx)("div",{children:"// ".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.pageB"}))}),(0,u.jsx)("div",{children:"<script>"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"function receiveMessage(event){"}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:'if (event.origin !== "http://a.com") return;'}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"console.log(JSON.parse(event.data)); // {data: 1}"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"}"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:'window.addEventListener("message", receiveMessage, false);'}),(0,u.jsx)("div",{children:"<script>"})]})]})})})},y=e=>{const a=(0,t.A)(),{showPageIndex:i}=e;return(0,u.jsx)("div",{className:l,children:(0,u.jsx)("div",{className:o,children:(0,u.jsxs)("div",{className:x,children:[(0,u.jsx)("div",{children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.des5"})}),(0,u.jsxs)("div",{className:j,children:[(0,u.jsx)("div",{children:"// ".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.pageA"}))}),(0,u.jsx)("div",{children:'<iframe id="myIframe" src="http://b.com" />'}),(0,u.jsx)("br",{}),(0,u.jsx)("div",{children:"<script>"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:'var myIframe = document.getElementById("myIframe");'}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"if (myIframe) {"}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"var data = {data: 1};"}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:'myIframe.contentWindow.postMessage(JSON.stringify(data), "http://b.com");'}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"}"}),(0,u.jsx)("div",{children:"<script>"})]}),(0,u.jsx)("br",{}),(0,u.jsx)("div",{className:f,children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.des6"})}),(0,u.jsx)("div",{className:f,children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.des7"})}),(0,u.jsx)("br",{}),(0,u.jsx)("div",{className:f,children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.des8"})})]})})})},_=e=>{const a=(0,t.A)(),{showPageIndex:i}=e;return(0,u.jsx)("div",{className:l,children:(0,u.jsx)("div",{className:o,children:(0,u.jsxs)("div",{className:x,children:[(0,u.jsx)("div",{className:v,children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.subTitle3"})}),(0,u.jsx)("div",{children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.des9"})}),(0,u.jsxs)("div",{className:j,children:[(0,u.jsx)("div",{children:"// ".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.pageA"}))}),(0,u.jsx)("div",{children:'<span onClick="toB();">Jump</span>'}),(0,u.jsx)("div",{children:'<iframe id="myIframe" src="http://b.com" style="display: none" />'}),(0,u.jsx)("br",{}),(0,u.jsx)("div",{children:"<script>"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"function toB(){"}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:'var myIframe = document.getElementById("myIframe");'}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"if (myIframe) {"}),(0,u.jsx)("div",{style:{paddingLeft:"60px"},children:"var data = {data: 1};"}),(0,u.jsx)("div",{style:{paddingLeft:"60px"},children:'myIframe.contentWindow.postMessage(JSON.stringify(data), "http://b.com");'}),(0,u.jsx)("div",{style:{paddingLeft:"60px"},children:'window.open("http://b.com", "_blank");'}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"}"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"}"}),(0,u.jsx)("div",{children:"<script>"})]})]})})})},w=e=>{const a=(0,t.A)(),{showPageIndex:i}=e;return(0,u.jsx)("div",{className:l,children:(0,u.jsx)("div",{className:o,children:(0,u.jsxs)("div",{className:x,children:[(0,u.jsxs)("div",{className:j,children:[(0,u.jsx)("div",{children:"// ".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.pageB"}))}),(0,u.jsx)("div",{children:"<script>"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"var aData = localStorage.getItem(“aPageData”);"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"if(aData){"}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"doSomething(aData); // ".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.codeBox3.text"}))}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"localStorage.removeItem(“aPageData”);"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"}else{"}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"window.addEventListener(“message”, receiveMessage, false);"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"}"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"function receiveMessage(event){"}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"if (event.origin !== “http://a.com”) return;"}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"if(event.data){"}),(0,u.jsx)("div",{style:{paddingLeft:"60px"},children:"localStorage.setItem(“aPageData”, event.data);"}),(0,u.jsx)("div",{style:{paddingLeft:"40px"},children:"}"}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:"}"}),(0,u.jsx)("div",{children:"<script>"})]}),(0,u.jsx)("div",{className:f,children:"".concat(a.formatMessage({id:"page.htmlVision.applicationPageFrame.des10"}),": ")}),(0,u.jsx)("div",{className:f,children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.des11"})}),(0,u.jsx)("div",{className:f,children:a.formatMessage({id:"page.htmlVision.applicationPageFrame.des12"})})]})})})},F="AppPageFrame_container__-RjvG",L="AppPageFrame_content__nFvFh",M="AppPageFrame_firstPage__l40i-",V="AppPageFrame_head__11coc",b="AppPageFrame_left__jsrJA",T="AppPageFrame_logo__fCrbd",A="AppPageFrame_appName__Hqm4m",I="AppPageFrame_right__wq5H0",S="AppPageFrame_btn__7UaqJ",k=100;var B=function(e){return e[e.next=0]="next",e[e.prev=1]="prev",e}(B||{});const C=()=>{const e=(0,t.A)(),{menuWidth:a,headHeight:i}=(0,c.S)(),l=(0,s.useRef)(null),o=(0,s.useRef)(null),[p,m]=(0,s.useState)(0),[g,h]=(0,s.useState)(0),x=(0,s.useRef)(null),v=(0,s.useRef)(!1),[j,f]=(0,s.useState)(0),C=(0,s.useRef)(!1),E=(0,s.useRef)(0),R=(0,s.useRef)(""),[D,J]=(0,s.useState)(0),[O,q]=(0,s.useState)(0),H=(0,s.useRef)(0),z=()=>{if(l.current){const e=d.findDOMNode(l.current),a=e.scrollTop;if("toTop"===R.current)if(e.scrollTop<p-k){const i=Math.min(a+25,p-k);v.current=!0,e.scrollTop=i,f(i),E.current=window.requestAnimationFrame(z)}else R.current="",v.current=!1,C.current=!1;else if("toBottom"===R.current)if(e.scrollTop>0){const i=Math.max(a-25,0);v.current=!0,e.scrollTop=i,f(i),E.current=window.requestAnimationFrame(z)}else R.current="",v.current=!1,C.current=!1}},W=()=>{C.current=!0,R.current||(R.current="toTop",J(1),E.current=window.requestAnimationFrame(z))},G=(0,r.A)((e=>{if(x.current){switch(e){case B.next:x.current.slideNext();break;case B.prev:x.current.slidePrev()}const a=d.findDOMNode(l.current),i=x.current.realIndex;if(i<=0)a.scrollTop!==p-k&&(v.current=!0,a.scrollTop=p-k,f(p-k));else{const e=(p-k)*(i+1);a.scrollTop!==e&&(v.current=!0,a.scrollTop=e,f(e))}}}),{wait:100}),Q=(0,r.A)((e=>{v.current?v.current=!1:C.current||e.target.className===F&&(x.current?e.target.scrollTop>p-k?e.target.scrollTop>j?G.run(B.next):e.target.scrollTop<j&&G.run(B.prev):e.target.scrollTop>j&&j<p-k?W():e.target.scrollTop<j&&(C.current=!0,R.current||(R.current="toBottom",J(0),E.current=window.requestAnimationFrame(z))):f(e.target.scrollTop))}),{wait:100});(0,s.useEffect)((()=>{if(l.current){const e=document.body.clientHeight-i;m(e);h(5*(e-k))}}),[O,i]);const U=()=>{H.current>=1e4?(H.current=0,q(0)):(H.current=H.current+1,q(H.current+1))};(0,s.useEffect)((()=>(window.addEventListener("resize",U),()=>{window.removeEventListener("resize",U)})),[]),(0,s.useEffect)((()=>{const e=new n.Ay(".swiper",{direction:"vertical",speed:1e3,loop:!1,simulateTouch:!1,keyboard:{enabled:!0,onlyInViewport:!0},on:{slideChange:function(){J(this.activeIndex+1)}}});x.current=e}),[]);const X=e=>{const a=d.findDOMNode(l.current);switch(e){case"SecondPage":const e=1*(p-k);x.current&&x.current.activeIndex>0?(v.current=!0,a.scrollTop=e,f(e),x.current.slideTo(0)):j!==e&&W();break;case"ThirdPage":const t=2*(p-k);var i;if(j!==t)v.current=!0,a.scrollTop=t,f(t),null===(i=x.current)||void 0===i||i.slideTo(1);break;case"LastPage":const d=4*(p-k);var s;if(j!==d)v.current=!0,a.scrollTop=d,f(d),null===(s=x.current)||void 0===s||s.slideTo(3)}};return(0,u.jsxs)("div",{className:F,onScrollCapture:Q.run,ref:l,children:[(0,u.jsxs)("div",{className:L,style:g?{height:"".concat(g,"px")}:{},ref:o,children:[(0,u.jsx)("div",{className:M,style:p?{height:"".concat(p,"px")}:{},children:(0,u.jsx)(P,{showPageIndex:D})}),(0,u.jsx)("div",{className:"swiper",style:p?{height:"".concat(p-k,"px")}:{},children:(0,u.jsxs)("div",{className:"swiper-wrapper",children:[(0,u.jsx)("div",{className:"swiper-slide",children:(0,u.jsx)(N,{showPageIndex:D})}),(0,u.jsx)("div",{className:"swiper-slide",children:(0,u.jsx)(y,{showPageIndex:D})}),(0,u.jsx)("div",{className:"swiper-slide",children:(0,u.jsx)(_,{showPageIndex:D})}),(0,u.jsx)("div",{className:"swiper-slide",children:(0,u.jsx)(w,{showPageIndex:D})})]})})]}),(0,u.jsxs)("div",{className:V,style:j>=p-k?{borderBottom:"1px solid #999",left:"".concat(a,"px"),width:"calc(100% - ".concat(a,"px)")}:{left:"".concat(a,"px"),width:"calc(100% - ".concat(a,"px)")},children:[(0,u.jsxs)("div",{className:b,children:[(0,u.jsx)("div",{className:T,children:"L"}),(0,u.jsx)("span",{className:A,children:"App Name"})]}),(0,u.jsxs)("div",{className:I,children:[(0,u.jsx)("div",{className:S,onClick:()=>X("SecondPage"),children:e.formatMessage({id:"page.htmlVision.applicationPageFrame.secondPage"})}),(0,u.jsx)("div",{className:S,onClick:()=>X("ThirdPage"),children:e.formatMessage({id:"page.htmlVision.applicationPageFrame.thirdPage"})}),(0,u.jsx)("div",{className:S,onClick:()=>X("LastPage"),children:e.formatMessage({id:"page.htmlVision.applicationPageFrame.lastPage"})})]})]})]})}}}]);